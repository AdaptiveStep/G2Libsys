<local:BasePage x:Class="G2Libsys.Views.LoanCheckoutView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:G2Libsys.ViewModels"
             x:TypeArguments="vm:LoanCheckoutViewModel"
                xmlns:convert="clr-namespace:G2Libsys.Converters"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:G2Libsys.Views" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" 
              xmlns:userControl="clr-namespace:G2Libsys.Controls"
                mc:Ignorable="d" >



    <Grid   >

        <materialDesign:Card 
            UniformCornerRadius="10"
                Margin="20" Height="480" Width="800" >
            <StackPanel Orientation="Vertical">





                <ListView 
            SelectedItem="{Binding SelectedItem}"
            Margin="5 20 5 5"
            Grid.Column="1"
            HorizontalAlignment="Center"
             Width="480" Height="380"
            VerticalAlignment="Top"
            ItemsSource="{Binding _loans.LoanCart}"
            >
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                        </Style>
                    </ListView.ItemContainerStyle>
                    <ListView.ItemTemplate>
                        <DataTemplate>

                            <materialDesign:Card HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
               Grid.Column="1"
                 >
                                <Grid  Background="{DynamicResource light_background}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition
                     Width="Auto" />
                                        <ColumnDefinition
                     Width="*" />
                                        <ColumnDefinition
                    Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Border
                      Width="100" Height="100" HorizontalAlignment="Left" 
                      >
                                        <!--<Border.Background>
                                            <ImageBrush ImageSource="{Binding imagesrc, Converter={convert:PathToImageConverter}}" Stretch="Uniform"/>
                                        </Border.Background>-->

                                    </Border>
                                    <Border  HorizontalAlignment="Right" Grid.Column="2"  VerticalAlignment="Top" Height="20" Width="20">
                                        <Border.Background >
                                            <ImageBrush ImageSource="/Views/depositphotos_38606631-stock-illustration-trash-bin-icon.jpg"/>
                                        </Border.Background>
                                        <Border.InputBindings>
                                            <MouseBinding
                                                                 
                        MouseAction="LeftClick" CommandParameter="{Binding}" Command="{Binding RelativeSource={RelativeSource AncestorType={x:Type ListView}},
                                              Path=DataContext.DeleteItem}" />
                                        </Border.InputBindings>


                                    </Border>
                                    <StackPanel
                  Grid.Column="1"
                 Margin="8 24 8 0"
                             
                        >
                                        <TextBlock Text="{Binding Title}"
                  FontWeight="Bold" FontSize="16" Foreground="#DD000000" HorizontalAlignment="Left">

                                        </TextBlock>
                                        <TextBlock Text="{Binding Description}"
                                   FontSize="15"
                    TextWrapping="Wrap"
                      VerticalAlignment="Center" Foreground="#DD000000" HorizontalAlignment="Left">

                                        </TextBlock>
                                    </StackPanel>
                                    <StackPanel
                      HorizontalAlignment="Right"
                 Grid.Row="2"
                       Orientation="Horizontal"
                  Margin="8"/>
                                </Grid>
                            </materialDesign:Card>
                        </DataTemplate>
                    </ListView.ItemTemplate>

                </ListView>
                <StackPanel Orientation="Horizontal"  HorizontalAlignment="Center" >
                    <Button
               Margin="10" 
             Style="{StaticResource MaterialDesignRaisedButton}"
             Width="100" Height="40" Content="Checka ut" Command="{Binding Confirm}">
                    </Button>
                    <Button
                Margin="10"
             Style="{StaticResource MaterialDesignRaisedButton}"
             Width="136" Height="40" Content="Töm Varukorgen" Command="{Binding Clear}">
                    </Button>
                </StackPanel>
            </StackPanel>
        </materialDesign:Card>
    </Grid>
</local:BasePage>